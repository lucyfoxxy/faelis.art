---
type Props = { albumSlug: string; title?: string; description?: string }
const { albumSlug, title , description } = Astro.props as Props;
const pricingHref = `/pricing#${albumSlug}`;

---
<section class="content-head section">
  <div class="content-card--rows">
    <h2>{title}</h2>
    <p>
    <a class="chip" href={pricingHref}>→ Pricing</a></p>
  </div>
  <div class="prose">
    <p>{description}</p>
  </div>
</section>

<section class="gallery content-layout"  data-slug={albumSlug} data-autoplay="true"  data-interval="5000"  data-random="true">
  <section class="content-card">
    <div class="gallery-viewer">
      <div class="gallery-viewer-frame">
        <img class="gallery-viewer-image" alt="" />
      </div>
      <div class="gallery-viewer-progress"></div>    
      <div class="gallery-viewer-controls">
        <button class="gallery-viewer-prev" aria-label="Previous">❮</button>
        <button class="gallery-viewer-playpause" aria-label="Play/Pause">⏸</button>
        <button class="gallery-viewer-next" aria-label="Next">❯</button>
      </div>
    </div>      
  </section>

  <section class="content-card">
    <div class="gallery-viewer-thumbs" role="list"></div>
  </section>
</section>

<script>
  import initGalleryPage from "@Scripts/GalleryDetail.js";
  const boot = () => initGalleryPage();

  if (document.readyState === "complete" || document.readyState === "interactive") {
    requestAnimationFrame(boot);
  } else {
    document.addEventListener("DOMContentLoaded", boot, { once: true });
    document.addEventListener("astro:page-load", boot, { once: true });
  }
</script>
